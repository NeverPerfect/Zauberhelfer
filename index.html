<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zauberhelfer</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- TEMPLATES FÜR MODIFIKATIONEN -->
    <template id="template_multi_fixed">
        <label>Anzahl: <select class="mod-value"></select></label>
    </template>
    <template id="template_multi_var">
        <label>Anzahl: <select class="mod-value"></select></label>
    </template>
    <template id="template_single">
        <span>Keine Optionen</span>
    </template>
    <template id="template_asp">
        <label>AsP: <select class="mod-value"></select></label>
    </template>
    <template id="template_kosten">
        <label>Prozent: <select class="mod-value"></select></label>
    </template>
    <template id="template_ziel">
        <label>Ziele: <select class="mod-ziele"></select></label>
        <label>MR (höchste): <select class="mod-mr"></select></label>
    </template>
    <template id="template_stufe">
        <label>Startstufe: <input type="number" min="0" max="7" class="mod-start" value="0"></label>
        <label>Zielstufe: <input type="number" min="0" max="7" class="mod-ziel" value="1"></label>
    </template>
    <template id="template_sonstiges">
        <div class="sonstige-mods-container">
            <div class="sonstige-mod-input"><label>ZfW:</label><input type="number" class="mod-zfw" value="0"
                    placeholder="+/-"></div>
            <div class="sonstige-mod-input"><label>ZD:</label><input type="number" class="mod-zd" value="0"
                    placeholder="+/-"></div>
            <div class="sonstige-mod-input"><label>AsP:</label><input type="number" class="mod-asp" value="0"
                    placeholder="+/-"></div>
            <div class="sonstige-mod-input"><label>AsP/X:</label><input type="number" class="mod-aspx" value="0"
                    placeholder="+/-"></div>
            <div class="sonstige-mod-input"><label>WD:</label><input type="number" class="mod-wd" value="0"
                    placeholder="+/-"></div>
        </div>
    </template>
    <template id="template_multi">
        <label>Anzahl: <select class="mod-value"></select></label>
    </template>
    <template id="template_reichweite">
        <label>Startstufe: <select class="mod-start"></select></label>
        <label>Zielstufe: <select class="mod-ziel"></select></label>
    </template>
    <template id="template_varianten">
        <div class="add-var-header">
            <span>Varianten</span>
            <button class="add-var">Variante hinzufügen</button>
        </div>
        <div class="var-list"></div>
    </template>
    <template id="template_var_item">
        <div class="var-item">
            <div class="sonstige-mods-container">
                <div class="sonstige-mod-input"><label>ZfW:</label><input type="number" class="var-zfw" value="0"
                        placeholder="+/-"></div>
                <div class="sonstige-mod-input"><label>ZD:</label><input type="number" class="var-zd" value="0"
                        placeholder="+/-"></div>
                <div class="sonstige-mod-input"><label>AsP:</label><input type="number" class="var-asp" value="0"
                        placeholder="+/-"></div>
                <div class="sonstige-mod-input"><label>AsP/X:</label><input type="number" class="var-aspx" value="0"
                        placeholder="+/-"></div>
                <div class="sonstige-mod-input"><label>WD:</label><input type="number" class="var-wd" value="0"
                        placeholder="+/-"></div>
            </div>
            <button class="remove-var">Entfernen</button>
        </div>
    </template>


    <div id="app">

        <!-- LINKE SEITENLEISTE -->
        <!-- REPRÄSENTATION -->
        <aside id="repraesentation">
            <select id="repraesentation-select">
                <option value="">-- Repräsentation wählen --</option>
                <option value="gildenmagisch">Gildenmagisch</option>
                <option value="weitere">Weitere in Arbeit</option>
            </select>
            <div id="repraesentation-details" class="info-box">
                <div id="gildenmagisch-content" class="repr-content">
                    <p>Technik: Konzentration, Sicht, Geste, Formel – keine zentrale Komponente</p>
                    <p>Zuschläge für spontane Modifikationen werden, nach dem summieren, halbiert</p>
                    <p>Spontane Modifikation "verlängerte Zauberdauer" gibt einen zusätzlichen Punkt Erleichterung
                    </p>
                </div>
                <div id="weitere-content" class="repr-content">
                    <p>Hier stehen Infos zu "Weitere in Arbeit".</p>
                </div>
            </div>

            <!-- EIGENSCHAFTEN -->
            <div id="attribute-container">
                <h4>Eigenschaften</h4>

                <!-- MU -->
                <div class="attribute-row">
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">MU:</label>
                            <div class="number-input">
                                <button class="minus" data-target="mu">–</button>
                                <input type="number" id="mu" min="0" max="31" value="10">
                                <button class="plus" data-target="mu">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- KL -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">KL:</label>
                            <div class="number-input">
                                <button class="minus" data-target="kl">–</button>
                                <input type="number" id="kl" min="0" max="31" value="10">
                                <button class="plus" data-target="kl">+</button>
                            </div>
                        </div>
                        <!-- Leiteigenschaft Checkbox -->
                        <div class="checkbox-container">
                            <label class="checkbox-label">
                                <input type="checkbox" name="leiteigenschaft" data-attribute="kl"> Leiteigenschaft
                            </label>
                        </div>
                    </div>

                    <!-- IN -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">IN:</label>
                            <div class="number-input">
                                <button class="minus" data-target="in">–</button>
                                <input type="number" id="in" min="0" max="31" value="10">
                                <button class="plus" data-target="in">+</button>
                            </div>
                        </div>
                        <!-- Leiteigenschaft Checkbox -->
                        <div class="checkbox-container">
                            <label class="checkbox-label">
                                <input type="checkbox" name="leiteigenschaft" data-attribute="in"> Leiteigenschaft
                            </label>
                        </div>
                    </div>

                    <!-- CH -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">CH:</label>
                            <div class="number-input">
                                <button class="minus" data-target="ch">–</button>
                                <input type="number" id="ch" min="0" max="31" value="10">
                                <button class="plus" data-target="ch">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- FF -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">FF:</label>
                            <div class="number-input">
                                <button class="minus" data-target="ff">–</button>
                                <input type="number" id="ff" min="0" max="31" value="10">
                                <button class="plus" data-target="ff">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- GE -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">GE:</label>
                            <div class="number-input">
                                <button class="minus" data-target="ge">–</button>
                                <input type="number" id="ge" min="0" max="31" value="10">
                                <button class="plus" data-target="ge">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- KO -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">KO:</label>
                            <div class="number-input">
                                <button class="minus" data-target="ko">–</button>
                                <input type="number" id="ko" min="0" max="31" value="10">
                                <button class="plus" data-target="ko">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- KK -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">KK:</label>
                            <div class="number-input">
                                <button class="minus" data-target="kk">–</button>
                                <input type="number" id="kk" min="0" max="31" value="10">
                                <button class="plus" data-target="kk">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- INI -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">INI:</label>
                            <div class="number-input">
                                <button class="minus" data-target="ini">–</button>
                                <input type="number" id="ini" min="0" max="31" value="10">
                                <button class="plus" data-target="ini">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- BE -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">BE:</label>
                            <div class="number-input">
                                <button class="minus" data-target="be">–</button>
                                <input type="number" id="be" min="0" max="31" value="0">
                                <button class="plus" data-target="be">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- ASP -->
                    <div class="attribute-group">
                        <div class="attribute-line">
                            <label class="attribute-label">AsP:</label>
                            <div class="number-input">
                                <button class="minus" data-target="asp">–</button>
                                <input type="number" id="asp" min="0" max="99" value="0">
                                <button class="plus" data-target="asp">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- XML IMPORT -->
            <div id="xml-import-container">
                <h4>Helden Import (in Arbeit)</h4>
                <button id="xml-import-button" disabled>XML Importieren</button>
            </div>

            <!-- SAVE, IMPORT, EXPORT -->
            <div id="buttons">
                <button id="save">Speichern</button>
                <div id="buttons-row">
                    <button id="export">Exportieren</button>
                    <button id="import">Importieren</button>
                </div>
                <input type="file" id="importFile" class="hidden">
            </div>

        </aside>

        <!-- EINGABE DER ZAUBERWERTE -->
        <section id="inputs">
            <h2 class="section-heading">Zauber</h2>
            <div class="zauber-header">

                <!-- Zauber wählen Dropdown -->
                <select id="zauber-select">
                    <option value="">-- Zauber wählen --</option>
                    <option value="weitere">In Arbeit</option>
                </select>

                <!-- Zauber fremde Repräsentation Checkbox-->
                <label>
                    <input type="checkbox" class="mod-check" data-id="fremdrepraesentation"> Zauber in fremder
                    Repräsentation
                </label>
            </div>

            <!-- Zauberwerte -->
            <div class="input-row">

                <!-- ZfW -->
                <div class="input-group">
                    <label>ZfW:</label>
                    <div class="number-input">
                        <button class="minus" data-target="zfw">–</button>
                        <input type="number" id="zfw" min="0" max="40" value="10">
                        <button class="plus" data-target="zfw">+</button>
                    </div>
                </div>

                <!-- ZD -->
                <div class="input-group">
                    <label>Zauberdauer:</label>
                    <div class="number-input">
                        <button class="minus" data-target="zauberdauer">–</button>
                        <input type="number" id="zauberdauer" min="1" max="50" value="1">
                        <button class="plus" data-target="zauberdauer">+</button>
                    </div>
                </div>

                <!-- Grundkosten -->
                <div class="input-group">
                    <label>Grundkosten:</label>
                    <div class="number-input">
                        <button class="minus" data-target="kosten">–</button>
                        <input type="number" id="kosten" min="0" max="50" value="0">
                        <button class="plus" data-target="kosten">+</button>
                    </div>
                </div>

                <!-- AsP pro Einheit -->
                <div class="input-group">
                    <label
                        title="Etwa bei aufrecht zu erhaltenden Zaubern, oder bei mehreren Zielen. Kosten pro SR, A, Gewicht, Ziele...">Kosten
                        pro Einheit:</label>
                    <div class="number-input">
                        <button class="minus" data-target="kosteneinheit">–</button>
                        <input type="number" id="kosteneinheit" min="0" max="50" value="0">
                        <button class="plus" data-target="kosteneinheit">+</button>
                    </div>
                </div>

                <!-- Reichweite -->
                <div class="input-group">
                    <label>Reichweite:</label>
                    <select id="reichweite-select">
                        <option value=""></option>
                        <option value="weitere">selbst</option>
                        <option value="weitere">Berührung</option>
                        <option value="weitere">1 Schritt (oder ZfW Spann)</option>
                        <option value="weitere">3 Schritt (oder ZfW/2 Schritt)</option>
                        <option value="weitere">7 Schritt (oder ZfW Schritt)</option>
                        <option value="weitere">21 Schritt (oder ZfW x 3 Schritt)</option>
                        <option value="weitere">49 Schritt (oder ZfW x 7 Schritt)</option>
                        <option value="weitere">Horizont</option>
                    </select>
                </div>

                <!-- WD -->
                <div class="input-group">
                    <label>Wirkungsdauer:</label>
                    <div class="number-input">
                        <button class="minus" data-target="wirkungsdauer">–</button>
                        <input type="number" id="wirkungsdauer" min="1" max="50" value="1">
                        <button class="plus" data-target="wirkungsdauer">+</button>
                    </div>
                </div>
            </div>

            <!-- Anzahl Einheiten für AsP pro Einheit -->
            <div class="input-row">
                <div class="input-group" id="anzahl-einheiten-group">
                    <label>Anzahl Einheiten:</label>
                    <div class="number-input">
                        <button class="minus" data-target="anzahl-einheiten">–</button>
                        <input type="number" id="anzahl-einheiten" min="0" max="50" value="0">
                        <button class="plus" data-target="anzahl-einheiten">+</button>
                    </div>
                </div>
            </div>

            <!-- SONDERFERTIGKEITEN -->
            <div class="sf-row">

                <div class="sf-container">
                    <div class="sf-header">
                        <h2 class="section-heading">Sonderfertigkeiten</h2>
                    </div>
                    <div id="sf-group">

                        <!-- Kraftfokus -->
                        <div class="sf-item">
                            <label class="tooltip-container">
                                <input type="checkbox" id="sf_krftfokus"> Kraftfokus
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">stab muss in der Hand gehalten werden und darf gerade
                                    keine
                                    andere Funktion erfüllen</span>
                            </label>
                            <label id="sf_krftfokus_used_container" class="hidden">
                                <input type="checkbox" id="sf_krftfokus_used" class="hidden">
                            </label>
                        </div>

                        <!-- Kraftkontrolle -->
                        <div class="sf-item">
                            <label class="tooltip-container">
                                <input type="checkbox" id="sf_krftkontr"> Kraftkontrolle
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Ein Punkt Erschöpfung + 1 Aktion</span>
                            </label>
                            <label id="sf_krftkontr_used_container" class="hidden">
                                <input type="checkbox" id="sf_krftkontr_used" class="hidden">
                            </label>
                        </div>

                        <!-- Kugel des Hellsehers -->
                        <div class="sf-item">
                            <label class="tooltip-container">
                                <input type="checkbox" id="sf_kugel"> Kugel des Hellsehers
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Kugel muss in der Hand gehalten werden und darf gerade
                                    keine
                                    andere Funktion erfüllen. Erleichterung für Hellsicht ein weiterer Punkt, wenn
                                    aus
                                    echtem Bergkristall</span>
                            </label>
                            <label id="sf_kugel_used_container" class="hidden"></label>
                        </div>

                        <!-- Matrixverständnis -->
                        <div class="sf-item">
                            <label class="tooltip-container">
                                <input type="checkbox" id="sf_matrix"> Matrixverständnis
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Quelle, Kurzbeschreibung</span>
                            </label>
                        </div>

                        <!-- Merkmalsfokus -->
                        <div class="sf-item">
                            <label class="tooltip-container">
                                <input type="checkbox" id="sf_merkfokus"> Merkmalsfokus
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Stab muss in der Hand gehalten werden und darf gerade
                                    keine
                                    andere Funktion erfüllen.</span>
                            </label>
                            <label id="sf_merkfokus_used_container" class="hidden"></label>
                        </div>

                        <!-- Modifikationsfokus -->
                        <div class="sf-item">
                            <label class="tooltip-container">
                                <input type="checkbox" id="sf_modfokus"> Modifikationsfokus
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Stab muss in der Hand gehalten werden und darf gerade
                                    keine
                                    andere Funktion erfüllen</span>
                            </label>
                            <label id="sf_modfokus_used_container" class="hidden"></label>
                        </div>

                        <!-- Zauberroutine -->
                        <div class="sf-item">
                            <label class="tooltip-container">
                                <input type="checkbox" id="sf_routine"> Zauberroutine
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Quelle, Kurzbeschreibung</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SPONTANE MODIFIKATIONEN -->
            <h2 class="section-heading">Spontane Modifikationen</h2>
            <div id="mod-container">

                <!-- TECHNIK -->
                <div class="mod-category">
                    <h4>Technik</h4>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="tech"> Veränderte Technik
                        </label>
                        <div class="mod-options hidden" id="opt_tech"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="techz"> Veränderte Technik (zentral)
                        </label>
                        <div class="mod-options hidden" id="opt_techz"></div>
                    </div>
                </div>

                <!-- ZAUBERDAUER -->
                <div class="mod-category">
                    <h4>Zauberdauer</h4>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="halbdauer"> Zauberdauer halbieren
                        </label>
                        <div class="mod-options hidden" id="opt_halbdauer"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="doppeldauer"> Zauberdauer verdoppeln
                        </label>
                    </div>
                </div>

                <!-- KOSTEN VERÄNDERN -->
                <div class="mod-category">
                    <h4>Kosten verändern</h4>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="erzwingen"> Erzwingen (AsP)
                        </label>
                        <div class="mod-options hidden" id="opt_erzwingen"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="kosten"> Kosten einsparen
                        </label>
                        <div class="mod-options hidden" id="opt_kosten"></div>
                    </div>
                </div>

                <!-- ZIEL -->
                <div class="mod-category">
                    <h4>Ziel</h4>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="unfreiw"> Unfreiwillig statt
                            freiwillig
                        </label>
                        <div class="mod-options hidden" id="opt_unfreiw"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="freiw"> Freiwillig statt unfreiwillig
                        </label>
                        <div class="mod-options hidden" id="opt_freiw"></div>
                    </div>
                </div>

                <!-- WIRKUNGSBEREICH -->
                <div class="mod-category">
                    <h4>Wirkungsbereich</h4>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="reichweitex">
                            Reichweite/Wirkungsradius
                            erhöhen
                        </label>
                        <div class="mod-options hidden" id="opt_reichweitex"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="reichweitek">
                            Reichweite/Wirkungsradius
                            verkleinern
                        </label>
                        <div class="mod-options hidden" id="opt_reichweitek"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="reichweiteh"> Zaubern auf Reichweite
                            <span>Horizont <a href="horizont.html">Zielprobe</a>


                        </label>
                    </div>
                </div>

                <!-- WIRKUNGSDAUER -->
                <div class="mod-category">
                    <h4>Wirkungsdauer</h4>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="dauerx"> Wirkungsdauer verdoppeln
                        </label>
                        <div class="mod-options hidden" id="opt_dauerx"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="dauerh"> Wirkungsdauer halbieren
                        </label>
                        <div class="mod-options hidden" id="opt_dauerh"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="auf_fest"> Aufrechterhalten ➜ feste
                            Dauer
                        </label>
                    </div>
                </div>

                <!-- SONSTIGES -->
                <div class="mod-category">
                    <h4>Sonstiges</h4>
                    <div class="modblock">
                        <label class="tooltip-container">
                            <input type="checkbox" class="mod-check" data-id="varianten"> Varianten
                            <span class="info-icon">i</span>
                            <span class="tooltip-text">Varianten überschreiben die Grundwerte des Zaubers. Varianten
                                gelten als spontane Modifikation, Erschwernisse werden aber bei gildenmagischer
                                Repräsentation nicht halbiert</span>
                        </label>
                        <div class="mod-options hidden" id="opt_varianten"></div>
                    </div>

                    <!-- Sonstige Modifikationen -->
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="sonstigemods"> Sontige
                            Modifikationen
                        </label>
                        <div class="mod-options hidden" id="opt_sonstigemods"></div>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="inimod"> INI < 0 </label>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="bemod"> BE>2
                        </label>
                    </div>
                    <div class="modblock">
                        <label>
                            <input type="checkbox" class="mod-check" data-id="miss"> Zauber misslungen?
                        </label>
                        <div class="mod-options hidden" id="opt_miss"></div>
                    </div>
                </div>
            </div>
            <!-- ERGEBNISSE - Grid mit 4 Spalten-->
            <div id="results-container">
                <!-- Oberste Reihe Resultat -->
                <div class="result-box full-width">
                    <h4 class="section-heading">Resultat
                        <label class="tooltip-container">
                            <span class="info-icon">i</span>
                            <span class="tooltip-text">Die Erschwernis wird auf die Zauberprobe angewendet. Eine
                                positive Zahl bedeutet eine Erschwernis (Würfelwürfe werden um diesen Wert
                                erschwert).</span>
                        </label>
                    </h4>

                    <!-- Anzahl Modifikationen -->
                    <div id="mods-container">
                        <div>Modifikationen</div>
                        <div id="mods-anzahl"></div>

                        <!-- Warnemldungen -->
                        <div id="modcount-warnung"></div>
                        <div id="zfw-warnung"></div>
                        <div id="zd-warnung"></div>
                    </div>
                </div>

                <!-- Grid für die 2 Reihen mit 4 Spalten -->
                <div class="results-grid">

                    <!-- Reihe 1 -->
                    <div class="result-box">
                        <div>ZfW +/-</div>
                        <div id="zfw-diff"></div>
                    </div>
                    <div class="result-box">
                        <div>ZD +/-</div>
                        <div id="zd-diff"></div>
                    </div>
                    <div class="result-box">
                        <div>WD +/-</div>
                        <div id="wd-diff"></div>
                    </div>
                    <div class="result-box">
                        <div>Grundkosten</div>
                        <div>AsP/X:</div>
                    </div>

                    <!-- Reihe 2 -->
                    <div class="result-box">
                        <div>ZfP* max:</div>
                        <div id="zfw-neu"></div>
                    </div>
                    <div class="result-box">
                        <div>ZD neu</div>
                        <div id="zd-neu"></div>
                    </div>
                    <div class="result-box">
                        <div>WD neu</div>
                        <div id="wd-neu"></div>
                    </div>
                    <div class="result-box">
                        <div>AsP gesamt</div>
                        <div>AsP 1/2 miss</div>
                        <div id="asp-neu"></div>
                    </div>
                </div>
            </div>

            <!-- ERFOLGSWAHRSCHEINLICHKEIT -->
            <div id="results-container">
                <div class="result-box">
                    <h4 class="section-heading">Erfolgswahrscheinlichkeit</h4>
                    <div id="chance"></div>
                    <div class="success-attributes-row">
                        <select class="attribute-select">
                            <option value="mu">MU</option>
                            <option value="kl">KL</option>
                            <option value="in">IN</option>
                            <option value="ch">CH</option>
                            <option value="ff">FF</option>
                            <option value="ge">GE</option>
                            <option value="ko">KO</option>
                            <option value="kk">KK</option>
                        </select>
                        <select class="attribute-select">
                            <option value="mu">MU</option>
                            <option value="kl">KL</option>
                            <option value="in">IN</option>
                            <option value="ch">CH</option>
                            <option value="ff">FF</option>
                            <option value="ge">GE</option>
                            <option value="ko">KO</option>
                            <option value="kk">KK</option>
                        </select>
                        <select class="attribute-select">
                            <option value="mu">MU</option>
                            <option value="kl">KL</option>
                            <option value="in">IN</option>
                            <option value="ch">CH</option>
                            <option value="ff">FF</option>
                            <option value="ge">GE</option>
                            <option value="ko">KO</option>
                            <option value="kk">KK</option>
                        </select>
                    </div>
                    <div class="result-section">
                        <div class="result-card">
                            <div class="result-header">
                                <div class="probability-display" id="erfolgswahrscheinlichkeit">0%</div>
                            </div>
                            <div>
                                <p>Wahrscheinlichkeit nach ZfP*: <span id="erfolgswahrscheinlichkeit"></span></p>
                                <div class="chart-container">
                                    <canvas id="zfpChart"></canvas>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- SPALTE RECHTS - STAB-SPEICHER -->
        <div id="stab-speicher-container">
            <h4>Zauber im Stab speichern</h4>
            <p>Erschwernis, Aktuelle Erschwernis + 2</p>

            <!-- Komplexität: Label + Dropdown in einem Container -->
            <div class="input-group">
                <label for="komplexitaet">Komplexität:</label>
                <select id="komplexitaet">
                    <option value="1" selected>A</option>
                    <option value="2">B</option>
                    <option value="3">C</option>
                    <option value="4">D</option>
                    <option value="5">E</option>
                    <option value="6">F</option>
                </select>
            </div>

            <!-- Ritualkenntnis: Label + Eingabefeld mit Buttons in einem Container -->
            <div class="input-group">
                <label for="rkw">Ritualkenntnis:</label>
                <div class="number-input">
                    <button class="minus" data-target="rkw">-</button>
                    <input type="number" id="rkw" min="0" max="40" value="10">
                    <button class="plus" data-target="rkw">+</button>
                </div>
                <div>Platz für Warnung, wenn Zauber schwerer auszulösen ist, als RkW</div>
            </div>
            <div class="stab-input">
                <input type="text" id="zauber-name" placeholder="Name des Zaubers">
                <button id="zauber-speichern">Speichern</button>
            </div>
            <div id="stab-zauber-liste"></div>
            <button id="reset-button">Zurücksetzen</button>

            <!-- Toggle Tooltipps -->
            <label class="switch">
                <input type="checkbox" id="toggle-tooltips" checked>
                <span class="slider round"></span>
                <span class="switch-label">Tooltips On/Off</span>
            </label>
        </div>
        </aside>

        <!-- JAVASCRIPT DATEIEN -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
        <script src="js/core/globals.js"></script>
        <script src="js/utils/tooltips.js"></script>
        <script src="js/calc/aspCalc.js"></script>
        <script src="js/utils/mods.js"></script>
        <script src="js/utils/spellslots.js"></script>
        <script src="js/utils/saveLoad.js"></script>
        <script src="js/core/ui.js"></script>
        <script src="js/calc/modCount.js"></script>
        <script src="js/utils/xmlimport.js"></script>
        <script src="js/calc/wdCalc.js"></script>
        <script src="js/calc/zdCalc.js"></script>
        <script src="js/calc/zfwCalc.js"></script>
        <script type="module" src="js/calc/chance/chance-init.js"></script>
        <script src="js/core/init.js"></script>

</body>

</html>